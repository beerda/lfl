\documentclass{article}\usepackage[]{graphicx}\usepackage[]{color}
% maxwidth is the original width if it is less than linewidth
% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\usepackage{Sweave}


\usepackage[utf8]{inputenc}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}



\begin{Schunk}
% --begin: "cran.lfl"
\begin{Sinput}
install.packages("lfl")
\end{Sinput}
%
% --end: "cran.lfl"
\end{Schunk}

\begin{Schunk}
% --begin: "git.lfl"
\begin{Sinput}
install.packages("devtools")
devtools::install_github("beerda/lfl")
\end{Sinput}
%
% --end: "git.lfl"
\end{Schunk}

\begin{Schunk}
% --begin: "load.lfl"
\begin{Sinput}
library("lfl")
\end{Sinput}
%
% --end: "load.lfl"
\end{Schunk}

\begin{Schunk}
% --begin: "goedel.algebra"
\begin{Sinput}
a <- algebra("goedel")
\end{Sinput}
%
% --end: "goedel.algebra"
\end{Schunk}

\begin{Schunk}
% --begin: "goedel.algebra.examples"
\begin{Sinput}
a$n(c(0.5, 0.8, 0, 1))
\end{Sinput}
\begin{Soutput}
## [1] 0 0 1 0
\end{Soutput}
\begin{Sinput}
a$ni(c(0.5, 0.8, 0, 1))
\end{Sinput}
\begin{Soutput}
## [1] 0.5 0.2 1.0 0.0
\end{Soutput}
\begin{Sinput}
a$t(c(0.8, 0.3), c(0.2, 1), c(1, 0))
\end{Sinput}
\begin{Soutput}
## [1] 0
\end{Soutput}
\begin{Sinput}
a$pt(c(0.8, 0.3), c(0.2, 1), c(1, 0))
\end{Sinput}
\begin{Soutput}
## [1] 0.2 0.0
\end{Soutput}
\begin{Sinput}
a$r(c(0.8, 0.3), c(0.2, 1))
\end{Sinput}
\begin{Soutput}
## [1] 0.2 1.0
\end{Soutput}
%
% --end: "goedel.algebra.examples"
\end{Schunk}

\begin{Schunk}
% --begin: "goguen.algebra"
\begin{Sinput}
a <- algebra("goguen")
\end{Sinput}
%
% --end: "goguen.algebra"
\end{Schunk}

\begin{Schunk}
% --begin: "lukasiewicz.algebra"
\begin{Sinput}
a <- algebra("lukasiewicz")
\end{Sinput}
%
% --end: "lukasiewicz.algebra"
\end{Schunk}

\begin{Schunk}
% --begin: "na.algebra"
\begin{Sinput}
a <- algebra("goedel")
a2 <- sobocinski(a)
a$t(NA, 0.3)
\end{Sinput}
\begin{Soutput}
## [1] NA
\end{Soutput}
\begin{Sinput}
a2$t(NA, 0.3)
\end{Sinput}
\begin{Soutput}
## [1] 0.3
\end{Soutput}
%
% --end: "na.algebra"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
S <- matrix(c(1, 0.9, 0, 1,
              1, 0.2, 1, 0,
              0.1, 0.9, 0, 0.7,
              0.9, 0, 1, 0.1,
              0, 1, 1, 0.9), nrow=4)
colnames(S) <- c("pulm.hyp", "sleep.sick", "malaria", "hangover", "influenza")
rownames(S) <- c("tired", "cough", "fever", "blur.vis")

R <- matrix(c(0.9, 0, 0, 0,
              1, 0.9, 0.8, 0,
              0.8, 0.8, 0.9, 1,
              0, 0.1, 0, 0.9), nrow=4)
colnames(R) <- rownames(S)
rownames(R) <- paste0("patient", 1:4)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "comp.data"
\begin{Sinput}
print(R)
\end{Sinput}
\begin{Soutput}
##          tired cough fever blur.vis
## patient1   0.9   1.0   0.8      0.0
## patient2   0.0   0.9   0.8      0.1
## patient3   0.0   0.8   0.9      0.0
## patient4   0.0   0.0   1.0      0.9
\end{Soutput}
\begin{Sinput}
print(S)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## tired         1.0        1.0     0.1      0.9       0.0
## cough         0.9        0.2     0.9      0.0       1.0
## fever         0.0        1.0     0.0      1.0       1.0
## blur.vis      1.0        0.0     0.7      0.1       0.9
\end{Soutput}
%
% --end: "comp.data"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.basic"
\begin{Sinput}
a <- algebra("lukasiewicz")
compose(R, S, alg=a, type="basic")
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.9        0.9     0.9      0.8       1.0
## patient2      0.8        0.8     0.8      0.8       0.9
## patient3      0.7        0.9     0.7      0.9       0.9
## patient4      0.9        1.0     0.6      1.0       1.0
\end{Soutput}
%
% --end: "comp.basic"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.mult"
\begin{Sinput}
mult(R, S, function(r, s) {
  a$s(a$pt(r, s))
})
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.9        0.9     0.9      0.8       1.0
## patient2      0.8        0.8     0.8      0.8       0.9
## patient3      0.7        0.9     0.7      0.9       0.9
## patient4      0.9        1.0     0.6      1.0       1.0
\end{Soutput}
%
% --end: "comp.mult"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.subsupsquare"
\begin{Sinput}
compose(R, S, alg="lukasiewicz", type="sub")
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.2        0.2     0.2      0.0       0.1
## patient2      0.2        0.3     0.2      0.1       1.0
## patient3      0.1        0.4     0.1      0.2       1.0
## patient4      0.0        0.1     0.0      0.2       1.0
\end{Soutput}
\begin{Sinput}
compose(R, S, alg="lukasiewicz", type="super")
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1        0        0.8     0.3      0.8       0.1
## patient2        0        0.0     0.4      0.1       0.2
## patient3        0        0.0     0.3      0.1       0.1
## patient4        0        0.0     0.1      0.1       0.0
\end{Soutput}
\begin{Sinput}
compose(R, S, alg="lukasiewicz", type="square")
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1        0        0.2     0.2      0.0       0.1
## patient2        0        0.0     0.2      0.1       0.2
## patient3        0        0.0     0.1      0.1       0.1
## patient4        0        0.0     0.0      0.1       0.0
\end{Soutput}
%
% --end: "comp.subsupsquare"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
E <- matrix(c(0, 0, 1, 0,
              0, 0, 0, 0,
              0, 0, 0, 0,
              0, 1, 0, 0,
              0, 0, 0, 0), nrow=4)
colnames(E) <- colnames(S)
rownames(E) <- rownames(S)

U <- matrix(c(0, 0, 0, 1,
              0, 0, 0, 0,
              0, 0, 0, 0,
              0, 0, 0, 0,
              0, 1, 0, 0), nrow=4)
colnames(U) <- colnames(S)
rownames(U) <- rownames(S)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "comp.e"
\begin{Sinput}
print(E)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## tired           0          0       0        0         0
## cough           0          0       0        1         0
## fever           1          0       0        0         0
## blur.vis        0          0       0        0         0
\end{Soutput}
%
% --end: "comp.e"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.u"
\begin{Sinput}
print(U)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## tired           0          0       0        0         0
## cough           0          0       0        0         1
## fever           0          0       0        0         0
## blur.vis        1          0       0        0         0
\end{Soutput}
%
% --end: "comp.u"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.circ.excl"
\begin{Sinput}
a <- algebra("lukasiewicz")
RS <- compose(R, S, alg=a, type="basic")
RE <- compose(R, E, alg=a, type="basic")
a$pt(RS, a$n(RE))
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.1        0.9     0.9      0.0       1.0
## patient2      0.0        0.8     0.8      0.0       0.9
## patient3      0.0        0.9     0.7      0.1       0.9
## patient4      0.0        1.0     0.6      1.0       1.0
\end{Soutput}
%
% --end: "comp.circ.excl"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.circ.unavoid"
\begin{Sinput}
RU <- compose(R, U, alg=a, type="super")
a$pt(RS, RU)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.0        0.9     0.9      0.8       1.0
## patient2      0.0        0.8     0.8      0.8       0.8
## patient3      0.0        0.9     0.7      0.9       0.7
## patient4      0.8        1.0     0.6      1.0       0.0
\end{Soutput}
%
% --end: "comp.circ.unavoid"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.circ.excl.unavoid"
\begin{Sinput}
a$pt(RS, a$n(RE), RU)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1        0        0.9     0.9      0.0       1.0
## patient2        0        0.8     0.8      0.0       0.8
## patient3        0        0.9     0.7      0.1       0.7
## patient4        0        1.0     0.6      1.0       0.0
\end{Soutput}
%
% --end: "comp.circ.excl.unavoid"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.quant.atleast"
\begin{Sinput}
qatleast <- sugeno(measure=function(x) as.numeric(x >= 2),
                   relative=FALSE,
                   strong=TRUE,
                   alg="goedel")
qRS <- mult(R, S, function(r, s) {
  qatleast(a$pt(r, s))
})
print(qRS)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1      0.9        0.8       0      0.8       0.8
## patient2      0.1        0.1       0      0.0       0.8
## patient3      0.0        0.0       0      0.0       0.8
## patient4      0.0        0.0       0      0.0       0.8
\end{Soutput}
%
% --end: "comp.quant.atleast"
\end{Schunk}

\begin{Schunk}
% --begin: "comp.quant.combined"
\begin{Sinput}
a$pt(qRS, a$n(RE), RU)
\end{Sinput}
\begin{Soutput}
##          pulm.hyp sleep.sick malaria hangover influenza
## patient1        0        0.8       0        0       0.8
## patient2        0        0.1       0        0       0.7
## patient3        0        0.0       0        0       0.6
## patient4        0        0.0       0        0       0.0
\end{Soutput}
%
% --end: "comp.quant.combined"
\end{Schunk}

\begin{Schunk}
% --begin: "ctx"
\begin{Sinput}
ctx3(5, 100, 1000)
\end{Sinput}
\begin{Soutput}
## Linguistic context: unilateral trichotomy (ctx3)
##    low center   high 
##      5    100   1000
\end{Soutput}
\begin{Sinput}
ctx3()
\end{Sinput}
\begin{Soutput}
## Linguistic context: unilateral trichotomy (ctx3)
##    low center   high 
##    0.0    0.5    1.0
\end{Soutput}
\begin{Sinput}
ctx3(high=100)
\end{Sinput}
\begin{Soutput}
## Linguistic context: unilateral trichotomy (ctx3)
##    low center   high 
##      0     50    100
\end{Soutput}
%
% --end: "ctx"
\end{Schunk}

\begin{Schunk}
% --begin: "minmax"
\begin{Sinput}
data <- runif(n=100, min=20, max=5000)
summary(data)
\end{Sinput}
\begin{Soutput}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   118.6  1306.3  2539.8  2580.3  3794.6  4997.8
\end{Soutput}
\begin{Sinput}
minmax(data, type="ctx3")
\end{Sinput}
\begin{Soutput}
## Linguistic context: unilateral trichotomy (ctx3)
##      low   center     high 
##  118.573 2558.195 4997.816
\end{Soutput}
%
% --end: "minmax"
\end{Schunk}

\begin{Schunk}
% --begin: "minmax2"
\begin{Sinput}
minmax(data, type="ctx3", center=1000)
\end{Sinput}
\begin{Soutput}
## Linguistic context: unilateral trichotomy (ctx3)
##      low   center     high 
##  118.573 1000.000 4997.816
\end{Soutput}
%
% --end: "minmax2"
\end{Schunk}

\begin{Schunk}
% --begin: "horizon"
\begin{Sinput}
ctx <- ctx3()
smHoriz <- horizon(ctx, atomic="sm")
smHoriz(seq(from=0, to=1, by=0.2))
\end{Sinput}
\begin{Soutput}
## [1] 1.0 0.6 0.2 0.0 0.0 0.0
\end{Soutput}
%
% --end: "horizon"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
meHoriz <- horizon(ctx, atomic="me")
biHoriz <- horizon(ctx, atomic="bi")
ggplot(data = data.frame(x = 0), mapping = aes(x = x)) +
  stat_function(aes(color="sm"), fun = smHoriz) +
  stat_function(aes(color="me"), fun = meHoriz) +
  stat_function(aes(color="bi"), fun = biHoriz) +
  xlim(-0.5, 1.5) +
  labs(x="", y="", colour="atomic\nexpression")
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "hedge"
\begin{Sinput}
veHedge <- hedge("ve")
ve.sm <- function(x) veHedge(smHoriz(x))
ve.sm(seq(from=0, to=0.5, by=0.1))
\end{Sinput}
\begin{Soutput}
## [1] 1.000000 0.585098 0.000000 0.000000 0.000000 0.000000
\end{Soutput}
%
% --end: "hedge"
\end{Schunk}


\begin{Schunk}
% --begin: "lingexpr"
\begin{Sinput}
ve.sm2 <- lingexpr(ctx, atomic="sm", hedge="ve")
ve.sm2(seq(from=0, to=0.5, by=0.1))
\end{Sinput}
\begin{Soutput}
## [1] 1.000000 0.585098 0.000000 0.000000 0.000000 0.000000
\end{Soutput}
%
% --end: "lingexpr"
\end{Schunk}

\begin{Schunk}
% --begin: "emptyhedge1"
\begin{Sinput}
emptyHedge <- hedge("-")
sm <- function(x) emptyHedge(smHoriz(x))
sm(seq(from=0, to=0.5, by=0.1))
\end{Sinput}
\begin{Soutput}
## [1] 1.0000000 0.9620685 0.2439553 0.0000000 0.0000000 0.0000000
\end{Soutput}
%
% --end: "emptyhedge1"
\end{Schunk}

\begin{Schunk}
% --begin: "emptyhedge2"
\begin{Sinput}
sm2 <- lingexpr(ctx, atomic="sm", hedge="-")
sm2(seq(from=0, to=0.5, by=0.1))
\end{Sinput}
\begin{Soutput}
## [1] 1.0000000 0.9620685 0.2439553 0.0000000 0.0000000 0.0000000
\end{Soutput}
%
% --end: "emptyhedge2"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
createListOfExpressions <- function(context, atomic, hedges) {
  res <- lapply(hedges, function(h) {
    lingexpr(context, atomic=atomic, hedge=h)
  })
  names(res) <- paste(hedges, atomic, sep=".")
  res
}

createPlot <- function(l, xlims=c(0, 1), legendName="expression", legendBottom=FALSE) {
  g <- ggplot(data = data.frame(x = 0), mapping = aes(x = x))
  for (n in names(l)) {
    f <- l[[n]]
    g <- g + stat_function(aes_(color=n), fun = f)
  }
  g <- g +
    xlim(xlims[1], xlims[2]) +
    labs(x="", y="", colour=legendName)
  if (legendBottom) {
    g <- g + theme(legend.position="bottom", legend.direction="vertical")
  }
  g
}

ctx <- ctx3()
smList <- createListOfExpressions(ctx,  "sm",
                                  c("ex", "si", "ve", "-", "ml", "ro", "qr", "vr"))
meList <- createListOfExpressions(ctx,  "me",
                                  c("ty", "-", "ml", "ro", "qr", "vr"))
biList <- createListOfExpressions(ctx,  "bi",
                                  c("ex", "si", "ve", "-", "ml", "ro", "qr", "vr"))

createPlot(smList)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
createPlot(meList)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
createPlot(biList)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "triangular"
\begin{Sinput}
tri <- triangular(0, 0.5, 1)
tri(seq(from = 0, to = 1, by = 0.2))
\end{Sinput}
\begin{Soutput}
## [1] 0.0 0.4 0.8 0.8 0.4 0.0
\end{Soutput}
\begin{Sinput}
rcos <- raisedcosine(0, 0.5, 1)
rcos(seq(from = 0, to = 1, by = 0.2))
\end{Sinput}
\begin{Soutput}
## [1] 0.0000000 0.3454915 0.9045085 0.9045085 0.3454915 0.0000000
\end{Soutput}
%
% --end: "triangular"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
ggplot(data = data.frame(x = 0), mapping = aes(x = x)) +
  stat_function(aes(color="sm"), fun = triangular(0, 0.5, 1)) +
  xlim(-0.2, 1.2) +
  labs(x="", y="") +
  theme(legend.position = "none")
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
ggplot(data = data.frame(x = 0), mapping = aes(x = x)) +
  stat_function(aes(color="sm"), fun = triangular(-Inf, 0.5, 1)) +
  xlim(-0.2, 1.2) +
  labs(x="", y="") +
  theme(legend.position = "none")
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
ggplot(data = data.frame(x = 0), mapping = aes(x = x)) +
  stat_function(aes(color="sm"), fun = raisedcosine(0, 0.5, 1)) +
  xlim(-0.2, 1.2) +
  labs(x="", y="") +
  theme(legend.position = "none")
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
ggplot(data = data.frame(x = 0), mapping = aes(x = x)) +
  stat_function(aes(color="sm"), fun = raisedcosine(0, 0.5, Inf)) +
  xlim(-0.2, 1.2) +
  labs(x="", y="") +
  theme(legend.position = "none")
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.logical"
\begin{Sinput}
logvec <- c(TRUE, FALSE, TRUE, TRUE)
lcut(logvec)
\end{Sinput}
\begin{Soutput}
##      logvec not.logvec
## [1,]      1          0
## [2,]      0          1
## [3,]      1          0
## [4,]      1          0
\end{Soutput}
\begin{Sinput}
lcut(logvec, name="employed")
\end{Sinput}
\begin{Soutput}
##      employed not.employed
## [1,]        1            0
## [2,]        0            1
## [3,]        1            0
## [4,]        1            0
\end{Soutput}
%
% --end: "lcut.logical"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.factor"
\begin{Sinput}
position <- factor(c("worker", "manager", "worker", "accountant"))
lcut(position)
\end{Sinput}
\begin{Soutput}
##      position=accountant position=manager position=worker
## [1,]                   0                0               1
## [2,]                   0                1               0
## [3,]                   0                0               1
## [4,]                   1                0               0
\end{Soutput}
%
% --end: "lcut.factor"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.numeric"
\begin{Sinput}
age <- round(runif(n=4, min=18, max=65))
print(age)
\end{Sinput}
\begin{Soutput}
## [1] 55 32 41 52
\end{Soutput}
\begin{Sinput}
lcut(age,
     context=ctx3(low=0, high=100))
\end{Sinput}
\begin{Soutput}
##      ex.sm.age si.sm.age ve.sm.age sm.age ml.sm.age ro.sm.age qr.sm.age
## [1,]         0         0         0      0         0         0 0.0000000
## [2,]         0         0         0      0         0         0 0.1315789
## [3,]         0         0         0      0         0         0 0.0000000
## [4,]         0         0         0      0         0         0 0.0000000
##      vr.sm.age  ty.me.age    me.age ml.me.age ro.me.age qr.me.age
## [1,] 0.0000000 0.04761905 1.0000000 1.0000000         1         1
## [2,] 0.9475480 0.00000000 0.3914128 0.7993319         1         1
## [3,] 0.1993769 0.00000000 0.9859853 1.0000000         1         1
## [4,] 0.0000000 0.73333333 1.0000000 1.0000000         1         1
##      vr.me.age ex.bi.age si.bi.age ve.bi.age bi.age ml.bi.age ro.bi.age
## [1,]         1         0         0         0      0         0         0
## [2,]         1         0         0         0      0         0         0
## [3,]         1         0         0         0      0         0         0
## [4,]         1         0         0         0      0         0         0
##      qr.bi.age vr.bi.age
## [1,]         0         0
## [2,]         0         0
## [3,]         0         0
## [4,]         0         0
\end{Soutput}
%
% --end: "lcut.numeric"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.data.frame"
\begin{Sinput}
data <- data.frame(position=position,
                   age=age,
                   employed=logvec)
print(data)
\end{Sinput}
\begin{Soutput}
##     position age employed
## 1     worker  55     TRUE
## 2    manager  32    FALSE
## 3     worker  41     TRUE
## 4 accountant  52     TRUE
\end{Soutput}
\begin{Sinput}
employees <- lcut(data,
     context=ctx3(low=0, high=100),
     atomic=c("sm", "me", "bi"),
     hedges=c("ve", "-", "ro"))
print(colnames(employees))
\end{Sinput}
\begin{Soutput}
##  [1] "position=accountant" "position=manager"    "position=worker"    
##  [4] "ve.sm.age"           "sm.age"              "ro.sm.age"          
##  [7] "me.age"              "ro.me.age"           "ve.bi.age"          
## [10] "bi.age"              "ro.bi.age"           "employed"           
## [13] "not.employed"
\end{Soutput}
%
% --end: "lcut.data.frame"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.data.frame2"
\begin{Sinput}
data$salary <- round(runif(n=4, min=1000, max=20000))
print(data)
\end{Sinput}
\begin{Soutput}
##     position age employed salary
## 1     worker  55     TRUE  14191
## 2    manager  32    FALSE   7728
## 3     worker  41     TRUE  16279
## 4 accountant  52     TRUE  15044
\end{Soutput}
\begin{Sinput}
employees <- lcut(data,
                  context=list(age=ctx3(low=0, high=100),
                               salary=ctx3(low=500, high=50000)),
                  atomic=list(salary=c("sm", "bi")),
                  hedges=list(age=c("ve", "-", "ro"),
                              salary=c("ex", "ve", "-", "ro")))
print(colnames(employees))
\end{Sinput}
\begin{Soutput}
##  [1] "position=accountant" "position=manager"    "position=worker"    
##  [4] "ve.sm.age"           "sm.age"              "ro.sm.age"          
##  [7] "me.age"              "ro.me.age"           "ve.bi.age"          
## [10] "bi.age"              "ro.bi.age"           "employed"           
## [13] "not.employed"        "ex.sm.salary"        "ve.sm.salary"       
## [16] "sm.salary"           "ro.sm.salary"        "ex.bi.salary"       
## [19] "ve.bi.salary"        "bi.salary"           "ro.bi.salary"
\end{Soutput}
%
% --end: "lcut.data.frame2"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.vars"
\begin{Sinput}
vars(employees)
\end{Sinput}
\begin{Soutput}
##  [1] "position" "position" "position" "age"      "age"      "age"     
##  [7] "age"      "age"      "age"      "age"      "age"      "employed"
## [13] "employed" "salary"   "salary"   "salary"   "salary"   "salary"  
## [19] "salary"   "salary"   "salary"
\end{Soutput}
%
% --end: "lcut.vars"
\end{Schunk}

\begin{Schunk}
% --begin: "lcut.specs"
\begin{Sinput}
specs(employees)[1:5, 1:5]
\end{Sinput}
\begin{Soutput}
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    0    0    0    0
## [2,]    0    0    0    0    0
## [3,]    0    0    0    0    0
## [4,]    0    0    0    0    1
## [5,]    0    0    0    0    0
\end{Soutput}
%
% --end: "lcut.specs"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.logfact"
\begin{Sinput}
logvec <- c(TRUE, FALSE, TRUE, TRUE)
position <- factor(c("worker", "manager", "worker", "accountant"))
fcut(data.frame(employed=logvec, position=position))
\end{Sinput}
\begin{Soutput}
##      employed not.employed position=accountant position=manager
## [1,]        1            0                   0                0
## [2,]        0            1                   0                1
## [3,]        1            0                   0                0
## [4,]        1            0                   1                0
##      position=worker
## [1,]               1
## [2,]               0
## [3,]               1
## [4,]               0
\end{Soutput}
%
% --end: "fcut.logfact"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.numeric1"
\begin{Sinput}
numvec <- 1:9
fcut(numvec,
     breaks=c(1, 5, 9),
     type="triangle")
\end{Sinput}
\begin{Soutput}
##       numvec=1
##  [1,]     0.00
##  [2,]     0.25
##  [3,]     0.50
##  [4,]     0.75
##  [5,]     1.00
##  [6,]     0.75
##  [7,]     0.50
##  [8,]     0.25
##  [9,]     0.00
\end{Soutput}
%
% --end: "fcut.numeric1"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.triangular"
\begin{Sinput}
triangular(1, 5, 9)(numvec)
\end{Sinput}
\begin{Soutput}
## [1] 0.00 0.25 0.50 0.75 1.00 0.75 0.50 0.25 0.00
\end{Soutput}
%
% --end: "fcut.triangular"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.numeric2"
\begin{Sinput}
fcut(numvec,
     breaks=c(1, 3, 5, 7, 9),
     type="triangle")
\end{Sinput}
\begin{Soutput}
##       numvec=1 numvec=2 numvec=3
##  [1,]      0.0      0.0      0.0
##  [2,]      0.5      0.0      0.0
##  [3,]      1.0      0.0      0.0
##  [4,]      0.5      0.5      0.0
##  [5,]      0.0      1.0      0.0
##  [6,]      0.0      0.5      0.5
##  [7,]      0.0      0.0      1.0
##  [8,]      0.0      0.0      0.5
##  [9,]      0.0      0.0      0.0
\end{Soutput}
%
% --end: "fcut.numeric2"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.merge"
\begin{Sinput}
fcut(numvec,
     breaks=c(1, 3, 5, 7, 9),
     merge=2,
     type="triangle")
\end{Sinput}
\begin{Soutput}
##       numvec=1|numvec=2 numvec=2|numvec=3
##  [1,]               0.0               0.0
##  [2,]               0.5               0.0
##  [3,]               1.0               0.0
##  [4,]               1.0               0.5
##  [5,]               1.0               1.0
##  [6,]               0.5               1.0
##  [7,]               0.0               1.0
##  [8,]               0.0               0.5
##  [9,]               0.0               0.0
\end{Soutput}
\begin{Sinput}
fcut(numvec,
     breaks=c(1, 3, 5, 7, 9),
     merge=3,
     type="triangle")
\end{Sinput}
\begin{Soutput}
##       numvec=1|numvec=2|numvec=3
##  [1,]                        0.0
##  [2,]                        0.5
##  [3,]                        1.0
##  [4,]                        1.0
##  [5,]                        1.0
##  [6,]                        1.0
##  [7,]                        1.0
##  [8,]                        0.5
##  [9,]                        0.0
\end{Soutput}
%
% --end: "fcut.merge"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.merge2"
\begin{Sinput}
fd <- fcut(numvec,
           breaks=c(1, 3, 5, 7, 9),
           merge=c(1, 2, 3),
           type="triangle")
print(colnames(fd))
\end{Sinput}
\begin{Soutput}
## [1] "numvec=1"                   "numvec=2"                  
## [3] "numvec=3"                   "numvec=1|numvec=2"         
## [5] "numvec=2|numvec=3"          "numvec=1|numvec=2|numvec=3"
\end{Soutput}
%
% --end: "fcut.merge2"
\end{Schunk}

\begin{Schunk}
% --begin: "fcut.varsspecs"
\begin{Sinput}
vars(fd)
\end{Sinput}
\begin{Soutput}
## [1] "numvec" "numvec" "numvec" "numvec" "numvec" "numvec"
\end{Soutput}
\begin{Sinput}
specs(fd)
\end{Sinput}
\begin{Soutput}
##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    0    0    0    1    0    1
## [2,]    0    0    0    1    1    1
## [3,]    0    0    0    0    1    1
## [4,]    0    0    0    0    0    1
## [5,]    0    0    0    0    0    1
## [6,]    0    0    0    0    0    0
\end{Soutput}
%
% --end: "fcut.varsspecs"
\end{Schunk}


\begin{Schunk}
\begin{Sinput}
l <- list(
  `numvec=1`=triangular(1, 3, 5),
  `numvec=2`=triangular(3, 5, 7),
  `numvec=3`=triangular(5, 7, 9)
)
createPlot(l, xlims=c(0, 10), legendName="", legendBottom=TRUE)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
mrg <- function(f1, f2) {
  function(x) {
    plukas.tconorm(f1(x), f2(x))
  }
}
l <- list(
  `numvec=1|numvec=2`=mrg(triangular(1, 3, 5), triangular(3, 5, 7)),
  `numvec=2|numvec=3`=mrg(triangular(3, 5, 7), triangular(5, 7, 9))
)
createPlot(l, xlims=c(0, 10), legendName="", legendBottom=TRUE)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
mrg2 <- function(f1, f2, f3) {
  function(x) {
    plukas.tconorm(f1(x), f2(x), f3(x))
  }
}
l <- list(
  `numvec=1|numvec=2|numvec=3`=mrg2(triangular(1, 3, 5), triangular(3, 5, 7), triangular(5, 7, 9))
)
createPlot(l, xlims=c(0, 10), legendName="", legendBottom=TRUE)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "quant1"
\begin{Sinput}
atLeast5 <- sugeno(measure=function(x) as.numeric(x >= 5),
                   relative=FALSE,
                   alg="lukasiewicz")
args(atLeast5)
\end{Sinput}
\begin{Soutput}
## function (x, w = 1) 
## NULL
\end{Soutput}
%
% --end: "quant1"
\end{Schunk}

\begin{Schunk}
% --begin: "quant2"
\begin{Sinput}
A <- c(1, 0.8, 1, 1, 1, 0)
atLeast5(A)
\end{Sinput}
\begin{Soutput}
## [1] 0.8
\end{Soutput}
%
% --end: "quant2"
\end{Schunk}

\begin{Schunk}
% --begin: "quant3"
\begin{Sinput}
B <- c(0.5, 1, 1, 1, 0.9, 1)
atLeast5(lukas.residuum(B, A))
\end{Sinput}
\begin{Soutput}
## [1] 0.8
\end{Soutput}
%
% --end: "quant3"
\end{Schunk}

\begin{Schunk}
% --begin: "quant4"
\begin{Sinput}
atLeast5(lukas.residuum(B, A), w=B)
\end{Sinput}
\begin{Soutput}
## [1] 0
\end{Soutput}
%
% --end: "quant4"
\end{Schunk}

\begin{Schunk}
% --begin: "quant5"
\begin{Sinput}
almost <- quantifier("almost.all")
most <- quantifier("most")
many <- quantifier("many")
almost(A)
\end{Sinput}
\begin{Soutput}
## [1] 0
\end{Soutput}
\begin{Sinput}
most(A)
\end{Sinput}
\begin{Soutput}
## [1] 0.001340707
\end{Soutput}
\begin{Sinput}
many(A)
\end{Sinput}
\begin{Soutput}
## [1] 1
\end{Soutput}
%
% --end: "quant5"
\end{Schunk}

\begin{Schunk}
% --begin: "quant6"
\begin{Sinput}
allq <- quantifier("all")
some <- quantifier("some")
allq(A)
\end{Sinput}
\begin{Soutput}
## [1] 0
\end{Soutput}
\begin{Sinput}
some(A)
\end{Sinput}
\begin{Soutput}
## [1] 1
\end{Soutput}
%
% --end: "quant6"
\end{Schunk}

\begin{Schunk}
% --begin: "quant7"
\begin{Sinput}
atLeast4 <- quantifier("at.least", n=4)
atLeast4(A)
\end{Sinput}
\begin{Soutput}
## [1] 1
\end{Soutput}
%
% --end: "quant7"
\end{Schunk}

\begin{Schunk}
% --begin: "searchrules"
\begin{Sinput}
rb <- searchrules(employees,
                  lhs=seq_len(ncol(employees)),
                  rhs=seq_len(ncol(employees)),
                  minSupport=0.5,
                  minConfidence=0.8,
                  maxLength=3)
print(rb)
\end{Sinput}
\begin{Soutput}
##                               support lhsSupport rhsSupport confidence
## position=worker => employed 0.5000000  0.5000000  0.7500000  1.0000000
##  => ro.me.age               1.0000000  1.0000000  1.0000000  1.0000000
## employed => me.age          0.7464963  0.7500000  0.8443495  0.9953284
## me.age => employed          0.7464963  0.8443495  0.7500000  0.8841082
##  => me.age                  0.8443495  1.0000000  0.8443495  0.8443495
\end{Soutput}
%
% --end: "searchrules"
\end{Schunk}

\begin{Schunk}
% --begin: "searchrules2"
\begin{Sinput}
str(rb)
\end{Sinput}
\begin{Soutput}
## List of 2
##  $ rules     :List of 5
##   ..$ : chr [1:2] "employed" "position=worker"
##   ..$ : chr "ro.me.age"
##   ..$ : chr [1:2] "me.age" "employed"
##   ..$ : chr [1:2] "employed" "me.age"
##   ..$ : chr "me.age"
##  $ statistics: num [1:5, 1:4] 0.5 1 0.746 0.746 0.844 ...
##   ..- attr(*, "dimnames")=List of 2
##   .. ..$ : NULL
##   .. ..$ : chr [1:4] "support" "lhsSupport" "rhsSupport" "confidence"
##  - attr(*, "class")= chr [1:2] "farules" "list"
\end{Soutput}
%
% --end: "searchrules2"
\end{Schunk}

\begin{Schunk}
% --begin: "searchrules3"
\begin{Sinput}
as.data.frame(rb)
\end{Sinput}
\begin{Soutput}
##                               support lhsSupport rhsSupport confidence
## position=worker => employed 0.5000000  0.5000000  0.7500000  1.0000000
##  => ro.me.age               1.0000000  1.0000000  1.0000000  1.0000000
## employed => me.age          0.7464963  0.7500000  0.8443495  0.9953284
## me.age => employed          0.7464963  0.8443495  0.7500000  0.8841082
##  => me.age                  0.8443495  1.0000000  0.8443495  0.8443495
\end{Soutput}
%
% --end: "searchrules3"
\end{Schunk}

\begin{Schunk}
% --begin: "searchrules4"
\begin{Sinput}
antecedents(rb)[1:3]
\end{Sinput}
\begin{Soutput}
## [[1]]
## [1] "position=worker"
## 
## [[2]]
## character(0)
## 
## [[3]]
## [1] "employed"
\end{Soutput}
\begin{Sinput}
consequents(rb)[1:3]
\end{Sinput}
\begin{Soutput}
## [[1]]
## [1] "employed"
## 
## [[2]]
## [1] "ro.me.age"
## 
## [[3]]
## [1] "me.age"
\end{Soutput}
%
% --end: "searchrules4"
\end{Schunk}

\begin{Schunk}
% --begin: "reduce"
\begin{Sinput}
reduce(employees, rb, 0.9)
\end{Sinput}
\begin{Soutput}
##                      support lhsSupport rhsSupport confidence
##  => me.age         0.8443495  1.0000000  0.8443495  0.8443495
##  => ro.me.age      1.0000000  1.0000000  1.0000000  1.0000000
## me.age => employed 0.7464963  0.8443495  0.7500000  0.8841082
\end{Soutput}
%
% --end: "reduce"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld1"
\begin{Sinput}
head(CO2, n=4)
\end{Sinput}
\begin{Soutput}
## Grouped Data: uptake ~ conc | Plant
##   Plant   Type  Treatment conc uptake
## 1   Qn1 Quebec nonchilled   95   16.0
## 2   Qn1 Quebec nonchilled  175   30.4
## 3   Qn1 Quebec nonchilled  250   34.8
## 4   Qn1 Quebec nonchilled  350   37.2
\end{Soutput}
%
% --end: "pbld1"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld2"
\begin{Sinput}
uptakeContext <- ctx3(7, 28.3, 46)
d <- lcut(CO2, context=list(uptake=uptakeContext))
\end{Sinput}
%
% --end: "pbld2"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld3"
\begin{Sinput}
testingIndices <- sort(sample(seq_len(nrow(d)), 10))
print(testingIndices)
\end{Sinput}
\begin{Soutput}
##  [1]  8 44 46 51 61 67 73 78 80 83
\end{Soutput}
\begin{Sinput}
training <- d[-testingIndices, ]
testing <- d[testingIndices, ]
\end{Sinput}
%
% --end: "pbld3"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld4"
\begin{Sinput}
rb <- searchrules(training,
                  lhs=which(vars(d) != "uptake"),
                  rhs=which(vars(d) == "uptake"),
                  minConfidence=0.5)
\end{Sinput}
%
% --end: "pbld4"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld5"
\begin{Sinput}
v <- seq(uptakeContext[1], uptakeContext[3], length.out=1000)
p <- lcut(v, name="uptake", context=uptakeContext)
\end{Sinput}
%
% --end: "pbld5"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld6"
\begin{Sinput}
pbld(testing, rb, p, v, type="global")
\end{Sinput}
\begin{Soutput}
##  [1] 27.26126 22.22523  7.00000 22.22523  7.00000 21.79580 19.29730
##  [8] 17.63814 27.26126 27.26126
\end{Soutput}
%
% --end: "pbld6"
\end{Schunk}

\begin{Schunk}
% --begin: "pbld_custom"
\begin{Sinput}
rules <- list(c("me.uptake", "Plant=Mc1", "sm.conc"),
              c("sm.uptake", "Type=Mississippi"),
              c("bi.uptake", "Treatment=nonchilled", "ro.me.conc"))
pbld(testing, rules, p, v)
\end{Sinput}
\begin{Soutput}
##  [1]  7.00000 10.16216 10.16216 10.16216  7.00000 10.16216 10.16216
##  [8] 10.16216 10.16216 10.16216
\end{Soutput}
%
% --end: "pbld_custom"
\end{Schunk}

\begin{Schunk}
% --begin: "fire"
\begin{Sinput}
x <- 1:10 / 10
names(x) <- letters[1:10]
print(x)
\end{Sinput}
\begin{Soutput}
##   a   b   c   d   e   f   g   h   i   j 
## 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
\end{Soutput}
\begin{Sinput}
rules <- list(c("a", "c", "e"),
              c("b"),
              c("d", "a"),
              c("c", "a", "b"))
fire(x, rules, tnorm="goguen", onlyAnte=FALSE)
\end{Sinput}
\begin{Soutput}
## [[1]]
## [1] 0.015
## 
## [[2]]
## [1] 0.2
## 
## [[3]]
## [1] 0.04
## 
## [[4]]
## [1] 0.006
\end{Soutput}
%
% --end: "fire"
\end{Schunk}

\begin{Schunk}
% --begin: "frbe"
\begin{Sinput}
myts <- ts(1:100 + rnorm(100), frequency=24)   # hourly frequency
fit <- frbe(myts, h=10)
fit$mean
\end{Sinput}
\begin{Soutput}
##  [1] 100.5002 101.4108 102.3139 103.2133 104.0460 104.9274 105.7708
##  [8] 106.6504 107.5235 108.3899
\end{Soutput}
%
% --end: "frbe"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-iris"
\begin{Sinput}
summary(iris)
\end{Sinput}
\begin{Soutput}
##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## 
\end{Soutput}
%
% --end: "casestudy-assoc-iris"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-lcut"
\begin{Sinput}
ldata <- lcut(iris,
              context=function(x) minmax(x, type="ctx5"),
              hedges="-")
\end{Sinput}
%
% --end: "casestudy-assoc-lcut"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-searchrules"
\begin{Sinput}
lrules <- searchrules(ldata,
                      lhs=grep("^Species=", colnames(ldata), invert=TRUE),
                      rhs=grep("^Species=", colnames(ldata)),
                      minSupport=0.05,
                      minConfidence=0.8,
                      n=0,                         # search for all rules
                      maxLength=5)
\end{Sinput}
%
% --end: "casestudy-assoc-searchrules"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
#ldf <- as.data.frame(lrules)
#ggplot(ldf) +
  #geom_point(aes(x=support, y=confidence))
#head(ldf[order(ldf$support, decreasing=TRUE), ], n=10)
\end{Sinput}
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-viewrules"
\begin{Sinput}
ldf <- as.data.frame(lrules)
ldf <- ldf[order(ldf$confidence, decreasing=TRUE), ]
head(ldf[, c('support', 'confidence')], n=8)
\end{Sinput}
%
% --end: "casestudy-assoc-viewrules"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-reduce"
\begin{Sinput}
r <- reduce(ldata, rules=lrules, ratio=1)
rownames(as.data.frame(r))
\end{Sinput}
\begin{Soutput}
##  [1] "sm.Petal.Length => Species=setosa"                 
##  [2] "um.Sepal.Width => Species=setosa"                  
##  [3] "lm.Sepal.Length & me.Sepal.Width => Species=setosa"
##  [4] "sm.Sepal.Length => Species=setosa"                 
##  [5] "sm.Petal.Width => Species=setosa"                  
##  [6] "me.Petal.Width => Species=versicolor"              
##  [7] "me.Petal.Length => Species=versicolor"             
##  [8] "um.Petal.Length => Species=virginica"              
##  [9] "um.Petal.Width => Species=virginica"               
## [10] "bi.Petal.Width => Species=virginica"               
## [11] "bi.Sepal.Length => Species=virginica"              
## [12] "bi.Petal.Length => Species=virginica"
\end{Soutput}
%
% --end: "casestudy-assoc-reduce"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-arules"
\begin{Sinput}
library(arules)

adata <- data.frame(
  Sepal.Length=cut(iris$Sepal.Length, 5),
  Sepal.Width=cut(iris$Sepal.Width, 5),
  Petal.Length=cut(iris$Petal.Length, 5),
  Petal.Width=cut(iris$Petal.Width, 5),
  Species=iris$Species
)
\end{Sinput}
%
% --end: "casestudy-assoc-arules"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-arules-search"
\begin{Sinput}
tdata <- transactions(adata)
arules <- apriori(tdata, 
                  parameter=list(support=0.05, confidence=0.8, target='rules'),
                  appearance=list(lhs=grep('Species=', itemLabels(tdata),
                                           invert=TRUE, value=TRUE),
                                  rhs=grep('Species=', itemLabels(tdata),
                                           value=TRUE)))
\end{Sinput}
%
% --end: "casestudy-assoc-arules-search"
\end{Schunk}

\begin{Schunk}
% --begin: "casestudy-assoc-arules-view"
\begin{Sinput}
adf <- as(arules, 'data.frame')
adf <- adf[order(adf$confidence, decreasing=TRUE), ]
head(adf[, c('rules', 'support', 'confidence')], n=8)
\end{Sinput}
%
% --end: "casestudy-assoc-arules-view"
\end{Schunk}

\begin{Schunk}
\begin{Sinput}
sessionInfo()
\end{Sinput}
\begin{Soutput}
## R version 4.1.0 (2021-05-18)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.2 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=cs_CZ.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=cs_CZ.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=cs_CZ.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=cs_CZ.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] arules_1.6-8  Matrix_1.3-4  lfl_2.1.1     ggplot2_3.3.3 knitr_1.33   
## 
## loaded via a namespace (and not attached):
##  [1] zoo_1.8-9         tidyselect_1.1.1  xfun_0.23        
##  [4] purrr_0.3.4       urca_1.3-0        lattice_0.20-44  
##  [7] colorspace_2.0-1  vctrs_0.3.8       generics_0.1.0   
## [10] utf8_1.2.1        rlang_0.4.11      e1071_1.7-7      
## [13] pillar_1.6.1      glue_1.4.2        withr_2.4.2      
## [16] DBI_1.1.1         forecast_8.15     TTR_0.24.2       
## [19] foreach_1.5.1     lifecycle_1.0.0   plyr_1.8.6       
## [22] quantmod_0.4.18   stringr_1.4.0     timeDate_3043.102
## [25] munsell_0.5.0     gtable_0.3.0      codetools_0.2-18 
## [28] evaluate_0.14     labeling_0.4.2    tseries_0.10-48  
## [31] lmtest_0.9-38     parallel_4.1.0    curl_4.3.1       
## [34] class_7.3-19      fansi_0.5.0       xts_0.12.1       
## [37] Rcpp_1.0.6        scales_1.1.1      farver_2.1.0     
## [40] fracdiff_1.5-1    digest_0.6.27     stringi_1.6.2    
## [43] dplyr_1.0.6       grid_4.1.0        quadprog_1.5-8   
## [46] tools_4.1.0       magrittr_2.0.1    proxy_0.4-26     
## [49] tibble_3.1.2      crayon_1.4.1      pkgconfig_2.0.3  
## [52] ellipsis_0.3.2    assertthat_0.2.1  iterators_1.0.13 
## [55] R6_2.5.0          nnet_7.3-16       nlme_3.1-152     
## [58] compiler_4.1.0
\end{Soutput}
\end{Schunk}

\end{document}
